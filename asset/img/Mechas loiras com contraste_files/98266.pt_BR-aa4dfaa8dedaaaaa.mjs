(self.modernJsonp=self.modernJsonp||[]).push([["98266"],{654471:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let n=r},176923:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let n=r},759271:function(e,t,i){i.d(t,{Z:()=>a});var r=i(501010),n=i(774838),o=i(739405);function a(){let{isAuthenticated:e}=(0,n.B)(),t=(0,o.ml)(),{checkExperiment:i}=(0,r.Z)();return{mWebCloseupRedesignEnabled:e&&t&&i("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:i("mweb_closeup_redesign").group}}},568736:function(e,t,i){function r(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:i}){let r=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${r}/${t}/`:`/discover/article/${r}/${t}/`}i.d(t,{x:()=>n,y:()=>r})},758714:function(e,t,i){i.d(t,{DW:()=>o,I:()=>n,Rn:()=>s,e3:()=>c,fO:()=>p,oo:()=>r,rj:()=>h,rk:()=>d,t7:()=>l,zI:()=>a});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},n=.18,o=(e,t,i)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(i/255)**2.2,a=e=>{let t=e.replace("#",""),i=parseInt(t.substr(0,2),16);return(299*i+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},s=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:i,minSaturationClamp:n,mixVal:o=1,minBrightnessClamp:a=0})=>{let s=r(e);null===s&&(s=[229,229,224]);let l=((e,t,i)=>{let r=Math.max(e/=255,t/=255,i/=255),n=r-Math.min(e,t,i),o=0;return 0!==n&&(o=(r===e?(t-i)/n+6*(t<i):r===t?(i-e)/n+2:(e-t)/n+4)*60)<0&&(o+=360),{h:o,s:0===r?0:n/r,b:r}})(...s),d=(e,t,i)=>Math.max(t,Math.min(e,i));l.s=d(l.s*(1+t),n,1),l.b=d(l.b*(1+i),a,1);let c=(({h:e,s:t,b:i})=>{let r=i*t,n=r*(1-Math.abs(e/60%2-1)),o=i-r,a=0,s=0,l=0;return e<60?(a=r,s=n):e<120?(a=n,s=r):e<180?(s=r,l=n):e<240?(s=n,l=r):e<300?(a=n,l=r):(a=r,l=n),{r:Math.round((a+o)*255),g:Math.round((s+o)*255),b:Math.round((l+o)*255)}})({...l}),u=e=>({r:Math.round(c.r*o+e*(1-o)),g:Math.round(c.g*o+e*(1-o)),b:Math.round(c.b*o+e*(1-o))}),p=u(0),h=u(255);return[[p.r,p.g,p.b],[h.r,h.g,h.b]]};function l(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),i="rgba"===t.slice(0,4).toLowerCase(),r=!i&&"rgb"===t.slice(0,3).toLowerCase();if(!i&&!r)return{r:0,g:0,b:0,a:0};let n=t.indexOf("("),o=t.indexOf(")",n);if(-1===n||-1===o)return{r:0,g:0,b:0,a:0};let a=t.slice(n+1,o).split(",").map(e=>e.trim());if(i&&4!==a.length||r&&3!==a.length)return{r:0,g:0,b:0,a:0};let[s,l,d,c]=a,u=Number(s),p=Number(l),h=Number(d),f=i?Number(c):1;return[u,p,h].some(e=>Number.isNaN(e))||i&&Number.isNaN(f)?{r:0,g:0,b:0,a:0}:{r:u,g:p,b:h,a:f}}function d(e,t){let i=e.a+t.a*(1-e.a);return 0===i?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/i),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/i),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/i),a:i}}let c=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,u=e=>e.toString(16).padStart(2,"0"),p=(e,t)=>{let i=r(e);if(!i)throw Error(`Invalid hex color: ${e} for lightenHexByPercentage`);let[n,o,a]=i,s=Math.max(0,Math.min(100,t))/100,l=Math.round(n+(255-n)*s),d=Math.round(o+(255-o)*s),c=Math.round(a+(255-a)*s);return`#${u(l)}${u(d)}${u(c)}`},h=(e,t)=>c(((e,t)=>{let i=r(e);if(!i)throw Error(`Invalid hex color: ${e} for hexToRgba`);let[n,o,a]=i;return{r:n,g:o,b:a,a:Math.max(0,Math.min(1,t))}})(e,t))},446885:function(e,t,i){i.d(t,{Z:()=>h});var r=i(686659),n=i(667294),o=i(399353),a=i(759271),s=i(351736),l=i(609252),d=i(178315),c=i(774838),u=i(40763),p=i(785893);function h({children:e,footerConfig:t,headerConfig:i,height:h,hideOnScroll:f,hideOnScrollState:{isHidden:m,updateHiddenState:g},isFooterHidden:x,noPadding:_,paddingX:w,paddingY:b=d.og,type:v,zIndex:y,isStoryPin:S}){let j,I;(0,n.useEffect)(()=>{(0,r.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:P,ignoreObstructions:k,zIndexForGestaltBug:T}=i||{},{appUpsellFooterConfig:Z,footerInLego:F,navFooterConfig:C}=t||{},E=!!Z,A="header"===v?"top":"bottom",M=(0,s.vs)(),{isRTL:L}=(0,c.B)(),{mWebCloseupRedesignEnabled:H}=(0,a.Z)(),R=(0,n.useRef)(null),N=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{if(!k){let e=R.current;N.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,N.current instanceof HTMLElement&&l.Z.addObstruction(A,N.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!k&&N.current instanceof HTMLElement&&l.Z.removeObstruction(A,N.current)}},[k,P,A,M]);let O="top"===A?"relative":"fixed",z=_?0:b,B=(h??d.R$)+(i?.overrideTop||0),D=f||C?{transition:F||H?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||x?{transform:`translateY(${"top"===A?-B:B}px)`,opacity:F||H?0:1}:Object.freeze({})}:{},W=2*!("relative"!==O||i?.noGutter),U=W?-W:0,K=M?s.k7:"rgba(255,255,255,.95)";M&&("header"===v?j=-1:I=-1);let $=F?E?void 0:h??d.R$:"100%",V=F?d.KJ:void 0,Y=i?.isTranslucent&&K||M?K:"var(--sema-color-background-default)",q=i?.isTransparentBackground&&1?"var(--sema-color-background-transparent)":Y,J=(0,n.useMemo)(()=>({height:"footer"===v&&H?`calc(${$} + env(safe-area-inset-bottom))`:$,...H&&"footer"===v?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(z||0)}px)`}:Object.freeze({})}),[H,$,v,z]),G=(0,u.Z)({skipExpActivation:!0});return(0,p.jsx)(o.xu,{ref:R,bottom:"footer"===v,dangerouslySetInlineStyle:{__style:{top:j,bottomStyle:I,...!y||T?{zIndex:T||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:d.UB,marginBottom:-d.UB,pointerEvents:"none"}:Object.freeze({}),...i?.hasBorder?{borderBottom:d.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...D}},"data-test-id":v,display:E?"flex":void 0,height:h&&!F?h:void 0,left:!0,marginEnd:F?"auto":U,marginStart:F?"auto":U,onTransitionEnd:()=>{(f||C)&&N.current&&(m||x?l.Z.removeObstruction(A,N.current):l.Z.addObstruction(A,N.current))},position:O,right:!0,top:"header"===v,width:F||"fixed"!==O?void 0:"100%",zIndex:T?void 0:y,children:(0,p.jsx)(o.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:q,paddingLeft:L||!G||S?void 0:"8px",paddingRight:L&&G&&!S?"8px":void 0,...J,boxShadow:H&&"footer"===v?`0 10px 0 0 ${q}, ${d.KJ}`:V,marginBottom:F&&!C?.docked?16:void 0,...P?{pointerEvents:"auto"}:Object.freeze({}),...i?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:F||t?.alignCenter?"flex":void 0,marginEnd:F?"auto":void 0,marginStart:F?"auto":void 0,paddingX:w||4*("footer"===v&&!_)+W,paddingY:z,position:"relative",rounding:F&&!C?.docked?"pill":void 0,width:C?C.footerWidth:E?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:g}):e})})}},271202:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var r=i(686659),n=i(667294),o=i(399353),a=i(178315),s=i(446885),l=i(763904),d=i(785893);function c({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:c,isTransparentBackground:u,noGutter:p,overrideTop:h,useRoundedCorners:f,zIndexForGestaltBug:m,isStoryPin:g,...x}){(0,n.useEffect)(()=>{(0,r.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:_,paddingY:w=a.og,zIndex:b}=x;return(0,d.jsx)(o.Le,{height:t?a.LV+2*(_?0:w)*4:void 0,top:h||0,zIndex:b||void 0,children:(0,d.jsx)(l.Z,{hideOnScroll:x.hideOnScroll,children:r=>(0,d.jsx)(s.Z,{...x,headerConfig:{isTranslucent:c,isTransparentBackground:u,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:p,overrideTop:h,zIndexForGestaltBug:m,useRoundedCorners:f},hideOnScrollState:r,isStoryPin:g,type:"header"})})})}},763904:function(e,t,i){i.d(t,{Z:()=>a});var r=i(667294),n=i(730448);function o(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends r.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),o(this,"handleScroll",(0,n.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state,r=window.scrollY,n=r-this.lastScrollPos,o="none",{scrollHeight:a,clientHeight:s}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(s)||(o=n<0?r<=Math.abs((window.scrollMinY||0)+Math.max(n,20))?"start":"none":r>=(window.scrollMaxY||a-s)-Math.max(n,20)?"end":"none");let l=55*!t?.isModal;e?n>20&&i&&r>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20&&!i||r<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===o&&!i||r<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(r>l||"end"===o)&&i&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20||"start"===o)&&i||r<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(n>20||"end"===o)&&!i&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=r},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t?.forceShow&&i,updateHiddenState:this.updateHiddenState})}}},619481:function(e,t,i){i.d(t,{Z:()=>c});var r=i(667294),n=i(581722),o=i(442279),a=i(501010),s=i(629972),l=i(487038);let d=(e,t,i)=>e.resources[t]?.[i];function c(e){let{name:t,optionsKey:i}=e,c=t===s.fY,u=(0,l.MA)(),p=u?.get(t,i);if(p)throw p;let h=(0,o.createSelector)(e=>d(e,t,i),e=>e?.data),f=(0,o.createSelector)(e=>d(e,t,i),e=>e?.auxData),m=(0,o.createSelector)(e=>d(e,t,i),e=>e?.error),g=(0,o.createSelector)(e=>d(e,t,i),e=>e?.nextBookmark),x=e=>e[t]?.[i],_=(0,a.Z)().checkExperiment("www_resources_reselect").anyEnabled,w=(0,n.v9)(_?g:({resources:e})=>x(e)?.nextBookmark),b=(0,n.v9)(_?h:({resources:e})=>x(e)?.data),v=(0,n.v9)(_?f:({resources:e})=>x(e)?.auxData),y=(0,n.v9)(_?m:({resources:e})=>x(e)?.error),S=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(c)return S.current;let j={auxData:v,data:b,error:y,isAtEnd:w===s.qx,nextBookmark:w};return(j.auxData!==S.current.auxData||j.data!==S.current.data||j.error!==S.current.error||j.isAtEnd!==S.current.isAtEnd||j.nextBookmark!==S.current.nextBookmark)&&(S.current=j),S.current}},748025:function(e,t,i){i.d(t,{Z:()=>o});var r=i(236269),n=i(935833);function o(){let e=navigator.serviceWorker;return e&&e.getRegistration?((0,n.My)("mweb_service_worker.unregister_attempt"),e.getRegistration().then(e=>{if(e)return e.unregister().then(()=>((0,n.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then(e=>{let t=e.find(e=>e.startsWith("workbox-precaching"));return t?window.caches.delete(t):null}).then(()=>(0,n.My)("mweb_service_worker.clear_app_shell")):Promise.resolve())).catch(e=>{(0,n.tj)("mweb_service_worker.unregister_fail",{error:(0,r.Z)(e,"message")})})})):Promise.resolve()}},574991:function(e,t,i){i.d(t,{J:()=>r,Z:()=>n});let r=-1;function n(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},838350:function(e,t,i){i.d(t,{Z:()=>r});function r({top:e,right:t,bottom:i,left:r,windowHeight:n,windowWidth:o,threshold:a=0}){return e>=0+a&&r>=0+a&&i<=n-a&&t<=o-a}},610142:function(e,t,i){i.d(t,{Zt:()=>W,iK:()=>K,ZP:()=>Y});var r=i(686659),n=i(667294),o=i(581722),a=i(312048),s=i(399353),l=i(647636),d=i(261954),c=i(309947),u=i(806513),p=i(24246),h=i(906127),f=i(774838),m=i(619481),g=i(661376),x=i(70625),_=i(739405),w=i(662911);let b=new Map;var v=i(31425),y=i(596663),S=i(471310),j=i(989045),I=i(966039),P=i(759302),k=i(285676),T=i(956701),Z=i(914253),F=i(228612),C=i(836643),E=i(645479),A=i(633101),M=i(734802),L=i(589247),H=i(384296),R=i(9065),N=i(785893);function O(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let z=(0,R.Z)(()=>i.e("65300").then(i.bind(i,827555)),void 0,e=>827555,"app-www-businessNux-BizNuxHomefeedLoader",e=>["65300"]),B=(0,R.Z)(()=>i.e("68443").then(i.bind(i,173842)),void 0,e=>173842,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["68443"]);class D extends n.PureComponent{constructor(...e){super(...e),O(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,I.HW)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),O(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),O(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),O(this,"gridContainerRef",(0,n.createRef)()),O(this,"renderFeedPin",(e,t)=>{let{feedItemProps:i,location:r,performanceOptimization:n,showSeoMetadata:o,surface:a,trafficSource:s,getReduxPin:l}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:p,impressionData:h,objectIdStr:f,oneTapSave:m,onFeedItemClick:g,onPinLinkClick:x,shouldAllowProductPriceIndicator:_,showSeoMetadata:w,viewData:b,viewParameter:v,viewType:y}=i||{},S=(r.search||"").includes("force_seo"),j=!!n?.lazyLoadBelowFoldIndex&&t>n.lazyLoadBelowFoldIndex,I=!!n?.priorityFetchAboveFoldIndex&&t<=n.priorityFetchAboveFoldIndex,P=l(e.id);return(0,N.jsx)(k.r,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:x,showSeoMetadata:o||S||w},duploLazyLoadImage:j,duploOneTapSave:m,duploPriorityFetchImage:I,duploShouldAllowProductPriceIndicator:_,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:f,pinId:e.id,pinKey:P?{type:"Legacy",data:P}:null,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:a,trackingParams:e.trackingParams,trafficSource:s,viewData:b,viewParameter:v,viewType:y||1})}),O(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),O(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:i}=this.props,r=this.getBoardId(),n="board"===i&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&r?e(r):null;return n?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,v.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,v.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:n}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),n&&i){let t=n({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:i,experimentalGutter:r,feedItemProps:o,feedItems:a,feedItemsAdjustment:c,feedKey:p,feedStoryId:f,getColumnSpanConfig:m,gridConfig:g,i18n:_,pageSize:b,pagination:v,pullToRefresh:I,renderFeedItem:k,serverRender:T,showBizNuxHomefeedLoader:Z,trafficSource:F,visuallyCompleteProfilerOptions:C,isLoadingStateEnabled:R,initialLoadingStatePinCount:O,isLoadingAccessibilityLabel:D,isLoadedAccessibilityLabel:W}=this.props,{unauthLandingPinStateForAuthHomefeed:U}=this.state,K=U?.feedItem&&a.length?[U.feedItem,...a]:a,{viewParameter:$,viewType:V}=o||{},{gridMeasurementKey:Y}=g||{},q=p+(Y?`|${Y}`:""),J="user_search"===F,G=J?window.innerWidth-16:void 0,Q=K.some(e=>"board"===e.type),X={columnWidth:(0,y.SY)({deviceType:e,customMWebColumnWidth:G,experimentalColumnWidth:Q?236:i}),renderItem:({data:e,itemIdx:t})=>{if(k){let i=k(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,N.jsx)(E.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,N.jsx)(H.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:J,viewParameter:$,viewType:V});case"board":let i=this.props.getReduxBoard(e.id);return(0,N.jsx)(w.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:$,viewType:V});case"topic":return(0,N.jsx)(M.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:$,viewType:V});case"story":if("number"==typeof $)return(0,N.jsx)(A.Z,{slotIndex:t,storyId:e.id,viewParameter:$,viewType:V||1});return null;case"FEED_BREAK_IN":return c&&"breakIn"===c.type&&c.value.content;default:return null}},gutterWidth:(0,y.s)({experimentalGutter:r,trafficSource:F,deviceType:e}),loadItems:v.loadNext,minCols:J?1:2,...g},ee=!Z&&v.isLoadingNext&&0===K.length&&!this.state.refreshing&&!R,et=b&&25>parseInt(b,10),ei=c?.type==="fullWidthBreakIn"?[{type:"feed",id:`${q}_feed_0`,item:K.slice(0,c.value.index)},{type:"fullWidthBreakIn",id:`${q}_break_in_0`,item:c.value.content},{type:"feed",id:`${q}_feed_1`,item:K.slice(c.value.index)}]:[{type:"feed",id:q,item:K}],er="desktop"===e,en=er&&"flashlight"===F,eo=en?0:u.qG;return(0,N.jsxs)(s.xu,{"data-test-id":"MobileFeed",children:[(0,N.jsx)(S.Z,{auxData:o?.auxData||null,enabled:!!I,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:o?.viewParameter||null}),(0,N.jsxs)(s.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:eo,marginStart:eo,opacity:this.state.refreshing?50:100,children:[(0,N.jsxs)(h.Z,{includeBackgroundImages:C?.includeBackgroundImages,includeVideos:C?.includeVideos,isAtEndOfFeed:!v.hasNext,isPlaceholderGrid:R&&v.isLoadingNext&&!K.length,itemCount:K.length,pinData:C?.pins,children:[K.length||R&&v.isLoadingNext?(0,N.jsx)(s.xu,{"data-test-id":"feed",marginTop:(0,y.kk)({isDesktop:er}),children:(0,N.jsx)(x.Z.Consumer,{children:e=>(0,N.jsx)(n.Fragment,{children:(0,N.jsx)(L.Z,{children:ei.map(t=>"feed"===t.type?(0,N.jsx)(d.default,{cacheKey:q,getColumnSpanConfig:m,id:T?p:void 0,initialLoadingStatePinCount:O,isFetching:v.isLoadingNext,isLoadedAccessibilityLabel:W??"",isLoadingAccessibilityLabel:D??"",isLoadingStateEnabled:!!R,items:t.item,scrollContainerRef:e,serverRender:T,...X},t.id):"fullWidthBreakIn"===t.type?(0,N.jsx)(s.xu,{children:t.item},t.id):null)})})})}):v.isLoadingNext?(0,N.jsx)(j.Z,{}):t??null,v.isLoadingNext&&"board"===F&&et&&!R&&(0,N.jsx)(s.xH,{accessibilityLabel:_.bt("Carregando", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),ee&&(0,N.jsx)(s.xu,{column:12,paddingY:2,children:(0,N.jsx)(P.Z,{partialViewportWidth:en})}),Z&&(0,N.jsx)(z,{gridContainerRef:this.gridContainerRef,homefeedLoading:v.isLoadingNext}),!er&&!v.hasNext&&(0,N.jsx)(l.b9,{placementId:1000251}),f&&!this.hideMoreIdeas()&&(0,N.jsx)(s.xu,{marginBottom:6,children:(0,N.jsx)(B,{storyId:f})})]})]})}}function W({feedItems:e,pagination:t,...i}){(0,n.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:s}=i,l=(0,a.TH)(),d=(0,_.ZP)(),u=(0,p.Z)(),{isAuthenticated:h,isBot:m}=(0,f.B)(),{isBizNuxHomefeedLoadShown:g}=(0,o.v9)(({session:e})=>e),x=e;s?.type==="breakIn"&&(x=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=b.get(e);if(t)return t;let i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return b.set(e,i),i})(e),...t.slice(e)])({items:e,breakIn:s.value}));let{experimentalColumnWidth:w,experimentalGutter:v}=(0,c.Z)(),y=(0,Z.gC)(),S=(0,F.S6)();return(0,N.jsx)(D,{...i,deviceType:d,experimentalColumnWidth:w,experimentalGutter:v,feedItems:x,getReduxBoard:y,getReduxPin:S,i18n:u,isAuthenticated:h,location:l,pagination:t,showBizNuxHomefeedLoader:!!g,showSeoMetadata:m||!h})}function U({isAtEnd:e,isFetching:t,fetchMore:i,refresh:r,...n}){let a=(0,o.v9)(({feeds:e})=>e[n.feedKey]??[]),s=(0,o.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:l,feedStoryId:d}=(0,C.Z)(a,s),c=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),u=(0,o.I0)();return(0,N.jsx)(W,{...n,featuredBoardStoryId:l,feedItems:a,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>{c?u((0,T.H5)(!1)):r()}}})}function K({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:o},...a}){return(0,n.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),(0,N.jsx)(U,{...a,fetchMore:i,isAtEnd:e,isFetching:t,refresh:o})}function $({resourceConfig:e,...t}){let i=(0,g.Z)(e);return(0,N.jsx)(K,{...t,resource:i})}function V({resourceRef:e,fetchMore:t,refresh:i,...r}){let{isAtEnd:n}=(0,m.Z)(e);return(0,N.jsx)(U,{...r,fetchMore:t,isAtEnd:n,isFetching:!1,refresh:i})}function Y({resourceConfig:e,resourceRef:t,fetchMore:i,refresh:o,...a}){return((0,n.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),t)?(0,N.jsx)(V,{...a,fetchMore:i??(()=>{}),refresh:o??(()=>{}),resourceRef:t}):(0,N.jsx)($,{...a,resourceConfig:e})}},31425:function(e,t,i){i.d(t,{IA:()=>o,cV:()=>n,do:()=>a});let r={},n=e=>{r[e]&&r[e].handlePullToRefresh()},o=(e,t)=>{r[e]=t},a=e=>{delete r[e]}},716848:function(e,t,i){i.d(t,{H:()=>r,J:()=>n});let{Provider:r,getMaybe:n}=(0,i(213491).Z)("PinCreateDeleteContext")},775907:function(e,t,i){i.d(t,{Z:()=>l});var r=i(686659),n=i(667294),o=i(399353),a=i(351736),s=i(785893);function l({color:e,image:t,isSelected:i,title:l}){(0,n.useEffect)(()=>{(0,r.Z)("PillRep","/app/www/nux/PillRep.tsx")},[]);let d=(0,a.vs)();return(0,s.jsxs)(o.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:d?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,s.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,s.jsx)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,s.jsx)(o.xu,{marginEnd:3,marginStart:2,children:(0,s.jsx)(o.xe,{color:i?"inverse":d?"light":"dark",weight:"bold",children:l})})]})}},156386:function(e,t,i){i.d(t,{Z:()=>p});var r=i(686659),n=i(667294),o=i(774838),a=i(739405),s=i(404305),l=i(808712),d=i(9065),c=i(785893);let u=(0,d.Z)(()=>Promise.all([i.e("62707"),i.e("2167")]).then(i.bind(i,913915)),void 0,e=>913915,"UnauthHomePage",e=>["62707","2167"]);function p(){(0,n.useEffect)(()=>{(0,r.Z)("HomePage","/app/www/pages/HomePage.tsx")},[]);let e=(0,a.ZP)(),{isAuthenticated:t}=(0,o.B)();return t?"desktop"===e?(0,c.jsx)(s.Z,{}):(0,c.jsx)(l.Z,{}):(0,c.jsx)(u,{})}},808712:function(e,t,i){i.d(t,{Z:()=>e$});var r=i(686659),n=i(667294),o=i(581722),a=i(312048),s=i(399353),l=i(4533),d=i(11442),c=i(470205),u=i(647636),p=i(714518),h=i(230201),f=i(803212),m=i(599255),g=i(112302),x=i(790810),_=i(351736);let w={borderRadius:"32px 32px 0px 0px",bottom:0,left:0,overflow:"hidden",touchAction:"none",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",zIndex:1,width:"100vw",maxHeight:"100vw",minHeight:"30vh"},b={full:"100vh",default:"50vh",auto:""},v=({size:e,isDarkMode:t})=>(w.height=b[e],w.maxHeight="auto"===e?"90vh":"100vw",w.backgroundColor=t?_.N$:"#FFFFFF",w);var y=i(289935),S=i(24246),j=i(564377),I=i(74972),P=i(785893);let k=({content:e,footer:t,header:i})=>{let[r,o]=(0,n.useState)(!1),a=(0,n.useRef)(null),l=(0,n.useCallback)(()=>{let e=a.current;e&&o(e?.clientHeight<e?.scrollHeight&&e.offsetHeight+e.scrollTop<e.scrollHeight)},[]);return(0,n.useEffect)(()=>{l()},[l]),(0,n.useEffect)(()=>(window?.addEventListener("resize",l),()=>{window?.removeEventListener("resize",l)}),[l]),(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(s.xu,{ref:a,fit:!0,onScroll:l,overflow:"scroll",padding:0,children:[i,(0,P.jsx)(s.xu,{flex:"grow",overflow:"auto",children:e})]}),!!t&&(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:r?{__style:{boxShadow:"var(--sema-space-0) var(--sema-space-negative-50) var(--sema-space-200) var(--sema-space-0) rgb(0 0 0 / 0.12)"}}:void 0,fit:!0,position:"relative",children:t})]})};function T({accessibilityModalLabel:e,allowClickAndDrag:t,allowBackgroundScroll:i=!1,children:o,closeOnOutsideClick:a=!0,footer:l,header:d,isOpen:c,mobileIsSlideUp:u,onDismiss:p,zIndex:h,size:f="auto"}){(0,n.useEffect)(()=>{(0,r.Z)("SheetMobileWithMediaHeader","/app/packages/experiences/gestalt/SheetMobile/SheetMobileWithMediaHeader.tsx")},[]);let m=(0,S.Z)(),g=(0,n.useRef)(null),{setAppFocusState:w}=(0,I.G)(),[T,Z]=(0,n.useState)(!1),F=(0,_.vs)();if((0,n.useEffect)(()=>(c?w(!1):w(!0),()=>{c&&w(!0)}),[w,c]),(0,n.useEffect)(()=>(g.current=(0,x.Z)(()=>{g.current&&Z(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&g.current&&(window.cancelAnimationFrame(g.current),g.current=null)}),[]),(0,n.useEffect)(()=>{let e=c&&!i;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[c,i]),!c)return null;let C=(({isDarkMode:e,size:t})=>{let i=e?_.N$:"#FFFFFF";return{__style:{...v({size:t,isDarkMode:e}),backgroundColor:i,transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}}})({isDarkMode:F,size:f});C.__style.transform=(()=>{if(u||!(()=>{if("undefined"==typeof window)return!1;let e=Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth),t=Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight);return e<=380||t<=760})())return"";let e=Math.min(1,(Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return e=Math.max(.8,e),` scale(${e})`})();let E=(({size:e,isShowing:t,isDarkMode:i})=>{let r=v({size:e,isDarkMode:i});return r.transition="all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",r.transform=t?"translateY(0)":`translateY(${b[e]||"100vh"})`,{__style:r}})({size:f,isShowing:T,isDarkMode:F});return(0,P.jsx)(j.Z,{allowClickAndDrag:t,children:(0,P.jsx)(s.mh,{children:(0,P.jsxs)(s.xu,{"aria-label":e,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:h||y.ZM,children:[(0,P.jsx)(s.iP,{accessibilityLabel:m.bt("Máscara de planilha para dispositivos móveis", "Mobile Sheet Mask", "mweb.sheet_mobile.mask", undefined, true),onTap:()=>{a&&p()},tapStyle:"none",children:(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new s.Ry(1)})}),(0,P.jsx)(s.xu,{color:"default",dangerouslySetInlineStyle:u?E:C,position:"fixed",children:(0,P.jsx)(s.xu,{direction:"column",display:"flex",justifyContent:"between",maxHeight:E.__style?.maxHeight||"100vh",position:"relative",width:"100%",children:(0,P.jsx)(k,{content:o,footer:l,header:d})})})]})})})}var Z=i(767415);let F=({display_data:e,complete:t,dismiss:i,context_aux_data:r})=>{let o=(0,S.Z)(),{logContextEvent:a}=(0,h.u)(),[l,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(0),p=()=>{d(!1),i()},x=(0,n.useCallback)((e,t)=>{a({event_type:e,component:15489,element:t,aux_data:{experience_id:r.experience_id,placement_id:r.placement_id,step_number:c+1,step_index:c}})},[r.experience_id,r.placement_id,c,a]);if((0,n.useEffect)(()=>{x(13,18257)},[c,x]),!l)return null;if(!(e.steps&&e.steps.length>0&&e.steps.every(e=>e.title&&e.subtitle&&e.primary_button&&e.image)))return(0,Z.nP)(f.ns,{sampleRate:1,tags:{experience_id:r.experience_id,placement_id:r.placement_id,reason:"Required display data not present",platform:4}}),null;let _=e.steps[c];if(!_)return(0,Z.nP)(f.ns,{sampleRate:1,tags:{experience_id:r.experience_id,placement_id:r.placement_id,reason:`No step for index ${c}`,platform:4}}),null;let w=window?.innerWidth||375,b=(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(s.Le,{top:0,children:(0,P.jsx)(s.xu,{padding:3,position:"absolute",width:"100%",children:(0,P.jsx)(s.hU,{accessibilityLabel:o.bt("Ignorar", "Dismiss", "experiences.ExperienceModalWindow.modalDismissIconButton", undefined, true),bgColor:"washLight",icon:"close",iconColor:"default",onClick:()=>{x(123,75),p()},size:"lg"})})}),(0,P.jsx)(s.GH,{contentAspectRatio:.8,height:1.25*w,width:w,children:(0,P.jsx)(s.Ee,{alt:_.image.image_alt,color:_.image.dominant_color||void 0,fit:"cover",naturalHeight:_.image.height,naturalWidth:_.image.width,src:_.image.url})})]}),v=(0,P.jsxs)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",paddingX:2,paddingY:3,children:[_.secondary_button&&(0,P.jsx)(m.Z,{buttonType:"secondary",data:(0,g._)(_.secondary_button,()=>{x(102,13005),p()}),experienceSchema:2}),(0,P.jsx)(m.Z,{buttonType:"primary",data:(0,g._)(_.primary_button,()=>{c<e.steps.length-1?(x(102,13004),u(c+1)):t()}),experienceSchema:2})]});return(0,P.jsx)(T,{accessibilityModalLabel:o.bt("Modal de várias etapas", "Multi Step Modal", "experiences.ExperienceMultiStepModal.accessibilityModalLabel", undefined, true),allowClickAndDrag:!1,footer:v,header:b,isOpen:l,mobileIsSlideUp:!0,onDismiss:()=>{x(123,16412),p()},size:"auto",children:(0,P.jsxs)(s.xu,{padding:3,children:[(0,P.jsx)(s.xu,{marginBottom:3,children:(0,P.jsx)(s.qd,{size:"500",children:_.title})}),(0,P.jsx)(s.xv,{children:_.subtitle})]})})};function C({experience:e}){return(0,n.useEffect)(()=>{(0,r.Z)("ExperienceMultiStepModal","/app/packages/experiences/Experiences/ExperienceMultiStepModal/ExperienceMultiStepModal.tsx")},[]),(0,P.jsx)(u.a3,{eligibleSchemas:[2],eligibleTypes:[26],experience:e,children:({complete:t,dismiss:i,experience:{display_data:r}})=>(0,P.jsx)(F,{complete:t,context_aux_data:{experience_id:e?.experience_id,placement_id:e?.placement_id},dismiss:i,display_data:r})})}var E=i(81342),A=i(664300),M=i(924591),L=i(935059),H=i(271202),R=i(134136),N=i(325705),O=i(501010),z=i(774838),B=i(661376),D=i(825605),W=i(653247),U=i(34550),K=i(112658),$=i(577356),V=i(341687),Y=i(739405),q=i(603284),J=i(2061),G=i(610142),Q=i(31425),X=i(919203),ee=i(726425),et=i(28031),ei=i(104999),er=i(730448),en=i(893957),eo=i(838350),ea=i(454908);let es={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}};function el({currentTabIndex:e,tabBoards:t}){(0,n.useEffect)(()=>{(0,r.Z)("MoreIdeasTabs","/app/www/Homefeed/MoreIdeasTabs.tsx")},[]);let i=(0,n.useRef)(null),l=(0,n.useRef)(!1),{width:d,height:c}=(0,et.Z)()||{width:0,height:0},u=(0,n.useRef)([]),p=(0,a.s0)(),h=(0,S.Z)(),f=(0,ei.Z)(),m=(0,o.I0)(),g=t.length?[{href:"/",text:(0,P.jsx)(s.xu,{children:h.bt("Tudo", "All", "homefeed.moreIdeasTab.homefeedTab", undefined, true)}),tabType:1},...t.filter(e=>e).map(({id:e,name:t},i)=>({href:`/?boardId=${String(e)}`,text:(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:es,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:2,ref:u.current[i]}))]:null,x=e=>1===e?11081:11082,_=(0,n.useRef)([]),w=(0,n.useCallback)(()=>{u&&u.current&&u.current.length&&u.current.forEach((e,i)=>{if(!e?.current)return;let{id:r,name:n}=t[i]||{},o=e.current.getBoundingClientRect();(0,eo.Z)({left:o.left,right:o.right,top:o.top,bottom:o.bottom,windowHeight:c,windowWidth:d})&&r&&!_.current.includes(r)&&(f({event_type:13,view_type:1,view_parameter:92,component:13184,element:x(2),object_id_str:r,aux_data:{board_id:r,tab_title:n,referrer:19}}),_.current.push(r))})},[u,f,t,c,d]),b=(0,er.Z)(()=>{w()},50);if((0,en.Z)(()=>{u.current=Array(t.length).fill(void 0).map((e,t)=>u.current[t]||(0,n.createRef)())}),(0,n.useEffect)(()=>{w();let e=i.current;return e&&e.addEventListener("scroll",b),()=>{e?.removeEventListener("scroll",b)}},[w,b]),(0,n.useEffect)(()=>()=>{l.current&&(window.cancelAnimationFrame(l.current),l.current=null)}),!g)return null;let v=g.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,P.jsx)(s.xu,{ref:i,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,P.jsx)(s.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{let t=g?.[e];if(t){let i;i=t.boardId,m((0,ea.r)(i,e)),f({event_type:101,view_type:1,view_parameter:92,component:13184,element:x(t.tabType),aux_data:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId})}let{pathname:i,state:r}=g?{pathname:(g[e]||g[0]).href,state:(g[e]||g[0]).locationState||void 0}:{};p(i,{state:r})},tabs:v})})}var ed=i(966039),ec=i(99672),eu=i(179664),ep=i(394382),eh=i(751534);function ef(){(0,n.useEffect)(()=>{(0,r.Z)("PreferencesUpdatedBanner","/app/www/pages/duplo/PreferencesUpdatedBanner.tsx")},[]);let{shouldRefreshHomefeed:e,clearRefreshFlag:t}=(0,ep._T)(),{showToast:i}=(0,$.dI)(),o=(0,S.Z)(),a=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(e&&!a.current){a.current=!0;let e=o.bt("Preferências atualizadas. Estamos atualizando seu feed agora.", "Preferences updated! We're refreshing your feed now.", "PreferencesUpdatedBanner.message", undefined, true);i(({hideToast:i})=>(0,P.jsx)(M.Z,{duration:3e3,onHide:()=>{i(),t(),a.current=!1},text:e}))}else e||(a.current=!1)},[e,t,i,o]),null}var em=i(228612),eg=i(297621),ex=i(9065),e_=i(520803);function ew(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let eb=(0,ex.Z)(()=>i.e("41881").then(i.bind(i,701426)),void 0,e=>701426,"app-www-pages-duplo-CoreActionsHeader",e=>["41881"]),ev=(0,ex.Z)(()=>i.e("82408").then(i.bind(i,221930)),void 0,e=>221930,"app-www-stories-FullWidthPinStory",e=>["82408"]),ey=(0,ex.Z)(()=>i.e("85946").then(i.bind(i,568737)),{ssr:!1},e=>568737,void 0,void 0),eS=(0,ex.Z)(()=>i.e("93065").then(i.bind(i,878723)),void 0,e=>878723,"app-www-Homefeed-HomefeedMoreIdeasTabContent",e=>["93065"]),ej=(0,ex.Z)(()=>i.e("61436").then(i.bind(i,448599)),void 0,e=>448599,"app-www-stories-LandingPageStory-LandingPageStory",e=>["61436"]),eI=(0,ex.Z)(()=>Promise.all([i.e("91062"),i.e("10192"),i.e("60417")]).then(i.bind(i,321792)),{ssr:!1},e=>321792,void 0,void 0),eP=(0,ex.Z)(()=>Promise.all([i.e("96311"),i.e("77153")]).then(i.bind(i,179007)),{ssr:!1},e=>179007,void 0,void 0),ek=(0,ex.Z)(()=>i.e("48205").then(i.bind(i,538049)),{ssr:!1},e=>538049,void 0,void 0),eT=(0,ex.Z)(()=>Promise.all([i.e("25418"),i.e("36157")]).then(i.bind(i,219875)),{ssr:!1},e=>219875,void 0,void 0),eZ=(0,n.lazy)(()=>i.e("79581").then(i.bind(i,6215))),eF=(0,n.lazy)(()=>i.e("87463").then(i.bind(i,223865))),eC=(0,n.lazy)(()=>i.e("18577").then(i.bind(i,646587))),eE=(0,n.lazy)(()=>i.e("79021").then(i.bind(i,504636))),eA=(0,n.lazy)(()=>i.e("77846").then(i.bind(i,5480))),eM=(0,n.lazy)(()=>i.e("63585").then(i.bind(i,272319))),eL={feedKey:eh.xJ,trafficSource:eh.WV,resourceName:eh.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},eH={first_page_size:"25",page_size:"10"},eR=({webMobileHomeFeedTakoverExperience:e})=>{let{feedKey:t,feedItemProps:i,pullToRefresh:r}=eL,n=(0,a.TH)(),d=(0,a.s0)(),c=(0,e_.Z)(),u=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),p={webMobileHomeFeedTakoverExperience:e,location:n,navigate:d,match:c},h=(0,o.v9)(({feeds:e})=>e[t]??[]),{selectedUseCases:f,selectedPins:m}=(0,eu.u)(),g=(0,ed.rQ)(f,m),x=!u,_=g.length>0?{in_nux:u,nux_signals_map:g}:{in_nux:u},w={...eh.HH,...x?{...eH}:{..._},in_local_navigation:!0,static_feed:!!(n&&(n.pathname.includes("pwt_performance_testing")||void 0!==(0,V.Z)(n.search).pwt_performance_testing))},b=(0,B.Z)({name:eh.om,options:w}),{isAtEnd:v,isFetching:y,fetchMore:S,data:j,refresh:I}=b,k={includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,em.JC)())};u&&(0,Z.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}});let T=(()=>{let{isGraphQLEnabledInGeneral:e}=(0,J.nF)(),{locale:t}=(0,z.B)(),i=(0,em.JC)();return({feedItems:r,prevFeedItems:n,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:{pinId:a,feedItem:s}})=>{if(!r.length)return null;if(o&&n.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),i=e(n,5),o=e(r,5),a={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,Z.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:a}),JSON.stringify(i)===JSON.stringify(o)&&(0,Z.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:a})}if(a&&!e){if(n.length>0&&n[0]!==r[0])return(0,U.M0)().removeItem(l.uc),{feedItem:null,pinId:null};else if((0===n.length||n[0]===r[0]&&n.length!==r.length||!s)&&i[a]&&!r.slice(0,5).some(({id:e})=>e===a))return{feedItem:{id:a,type:"pin",trackingParams:r[0].trackingParams},pinId:a}}return null}})(),F=j?.length?j[0]:null;if(e&&e.display_data?.in_checklist_education&&e.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:F?.id&&(0,P.jsx)(eg.Z,{storyId:F.id,children:e=>(0,P.jsx)(ev,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},n=h.slice(1);return(0,P.jsx)(s.xu,{"data-test-id":"homefeed",children:(0,P.jsx)(G.Zt,{authHomefeedComponentDidUpdate:T,feedItemProps:i&&i(p),feedItems:n,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!v,isLoadingNext:y,loadNext:()=>S(),refetch:()=>I()},pullToRefresh:r,trafficSource:eh.WV,visuallyCompleteProfilerOptions:k})})}return x&&!e?.display_data?(0,P.jsx)(s.xu,{"data-test-id":"homefeed-ssr",children:(0,P.jsx)(G.iK,{authHomefeedComponentDidUpdate:T,feedItemProps:i&&i(p),feedKey:eh.xJ,pullToRefresh:r,resource:b,serverRender:!0,trafficSource:eh.WV,visuallyCompleteProfilerOptions:k})}):(0,P.jsx)(s.xu,{"data-test-id":"homefeed",children:(0,P.jsx)(G.iK,{authHomefeedComponentDidUpdate:T,feedItemProps:i&&i(p),feedKey:t,pullToRefresh:r,resource:b,trafficSource:eh.WV,visuallyCompleteProfilerOptions:k})})},eN=(0,ex.Z)(()=>i.e("35273").then(i.bind(i,61949)),{ssr:!1},e=>61949,void 0,void 0),eO=(0,ex.Z)(()=>i.e("43946").then(i.bind(i,846333)),{ssr:!1},e=>846333,void 0,void 0),ez=(0,ex.Z)(()=>i.e("82848").then(i.bind(i,809793)),{ssr:!1},e=>809793,void 0,void 0),eB=(0,ex.Z)(()=>i.e("37213").then(i.bind(i,799997)),{ssr:!1},e=>799997,void 0,void 0),eD=(0,ex.Z)(()=>i.e("18012").then(i.bind(i,25711)),{ssr:!1},e=>25711,void 0,void 0),eW=(0,ex.Z)(()=>i.e("3765").then(i.bind(i,502851)),{ssr:!1},e=>502851,void 0,void 0);class eU extends n.PureComponent{constructor(...e){super(...e),ew(this,"state",{...(0,ed.HW)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:ee.e,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1,showQRAppErrorBanner:!1}),ew(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:i,extraBlpImages:r}=this.state,n=!t&&e&&504192===e.experience_id,o=n&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&n?(0,P.jsx)(c.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:o?(0,P.jsx)(eW,{experience:e,extraImageInfo:i.length>0?i:r,viewParameter:92,viewType:1}):(0,P.jsx)(eB,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t,navigate:i,location:r}=e;return(0,V.Z)(r.search).show_qr_app_error?(i("/",{replace:!0}),{showQRAppErrorBanner:!0}):"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{dispatchViewedSharedPins:e,location:t,i18n:i,showToast:r,navigate:n}=this.props,{sharedPinData:o}=this.state;(0,ec.E)(!1),(0,d.Z)(),o&&Object.keys(o).length>0&&e(o),t.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),t.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),t.state?.showError&&r(({hideToast:e})=>(0,P.jsx)(M.Z,{duration:5e3,onHide:e,text:i.bt("Não estamos conseguindo encontrar essa ideia. Tente procurar uma parecida.", "We can’t find that idea! Try searching for one just like it.", " - ", undefined, true),type:"error"})),(0,V.Z)(t.search).show_yip_modal&&(n("/",{replace:!0}),this.setState({showYipModal:!0})),this.props.shouldRefreshHomefeed&&(0,Q.cV)("homefeed")}render(){let{checkExperiment:e,currentUserId:t,currentUsername:i,everythingFeedExperience:r,navigate:o,i18n:a,isAuthenticated:l,isEligibleForCoreActionsHeader:d,isPartner:h,location:f,moreIdeasStory:m,newUserWelcomeStoryExperience:g,webMobileHomeFeedTakoverExperience:x,selectedTabBoardId:_,tabBoards:w,shouldRefreshHomefeed:b}=this.props,{currentTabIndex:v,showUnlinkTokenExpiredModal:y,showDeleteAccountSurveyModal:S,showYipModal:j,shouldDismissCoreActionsHeader:I,showQRAppErrorBanner:k}=this.state,T=(0,V.Z)(f.search),Z=T&&T.boardId||_;if(r&&!k)switch(r.experience_id){case 40002:case 10105:return(0,P.jsx)(c.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,P.jsx)(D.Z,{fallback:(0,P.jsx)(W.Z,{accessibilityLabel:this.props.i18n.bt("Carregando novas informações de educação do usuário", "Loading new user education", "Loading spinner", undefined, true)}),children:h?(0,P.jsx)(ez,{experience:r}):(0,P.jsx)(eO,{experience:r})})});case 500681:return(0,P.jsx)(c.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,P.jsx)(eN,{fallback:(0,P.jsx)(W.Z,{accessibilityLabel:this.props.i18n.bt("Carregando a experiência", "Loading experience", "loading experience spinner", undefined, true)})})})}let F=l&&e("mweb_hf_core_actions_header").anyEnabled&&d,M=()=>{this.setState({shouldDismissCoreActionsHeader:!0})};return(0,P.jsx)(q.Z,{viewParameter:92,viewType:1,children:(0,P.jsx)(K.Z,{view:1,viewParameter:92,children:(0,P.jsxs)(R.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[k&&(0,P.jsx)(s.xu,{marginTop:4,children:(0,P.jsx)(eM,{})}),(0,P.jsx)(X.Z,{text:a.bt("Início", "Home", "HomePage.HiddenAccessibilityHeader", undefined, true)}),!!w?.length&&(0,P.jsx)(H.default,{hideOnScroll:l,noPadding:!0,overrideTop:0,children:(0,P.jsx)(s.xu,{paddingY:1,children:(0,P.jsx)(el,{currentTabIndex:v,tabBoards:w||[]})})}),m&&(0,P.jsx)(s.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,P.jsx)(eg.Z,{storyId:m.id||"",children:e=>(0,P.jsx)(ev,{slotIndex:0,story:e,viewParameter:92,viewType:1},m.id)})}),v!==ee.e&&Z&&v<=(w?.length??0)&&(0,P.jsx)(eS,{boardId:Z})||(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(C,{experience:r}),(0,P.jsx)(u._f,{experience:r,placementId:40001}),(0,P.jsx)(u.b9,{placementId:40001}),(0,P.jsx)(u.nj,{experience:r,placementId:40001}),(0,P.jsx)(p.Z,{placementId:r?.placement_id}),(0,P.jsx)(A.Z,{placementId:1000544}),(0,P.jsx)(E.Z,{placementId:1000558}),(0,P.jsx)(u.a3,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:r,children:(0,P.jsx)(D.Z,{children:(0,P.jsx)(eF,{experience:r})})}),r&&(0,P.jsx)(u.a3,{eligibleIds:[507483],experience:r,children:({dismiss:e,experience:{display_data:t}})=>{let i=!("is_blocking"in t)||t.is_blocking;return(0,P.jsx)(eI,{dismiss:e,isBlockingModal:i})}}),r&&(0,P.jsx)(u.a3,{eligibleIds:[507661],experience:r,children:({dismiss:e,experience:{display_data:t}})=>(0,P.jsx)(eP,{displayData:t,onDismiss:e})}),r&&(0,P.jsx)(u.a3,{eligibleIds:[507924],experience:r,children:({complete:e,dismiss:t})=>(0,P.jsx)(ek,{onComplete:e,onDismiss:t})}),r&&(0,P.jsx)(u.a3,{eligibleIds:[508387],experience:r,placementId:40001,children:({complete:e,dismiss:t,experience:i})=>(0,P.jsx)(eT,{complete:e,dismiss:t,experience:i})}),r&&(0,P.jsx)(u.a3,{eligibleIds:[505326],experience:r,children:({complete:e,dismiss:t})=>(0,P.jsx)(n.Suspense,{children:(0,P.jsx)(eA,{complete:e,dismiss:t})})}),r&&(0,P.jsx)(u.a3,{eligibleIds:[505801],experience:r,children:({complete:e})=>(0,P.jsx)(n.Suspense,{children:(0,P.jsx)(eE,{complete:e})})}),g?.display_data?.story&&g.display_data.showUpdatedLandingPageStory&&(0,P.jsx)(ej,{isMoreIdeasTabsVisible:!!w?.length,newUserWelcomeStoryExperience:g}),(0,P.jsxs)(s.xu,{marginTop:2*(!w?.length&&!m),children:[!I&&F&&(0,P.jsx)(eb,{onDismiss:M,username:i||""}),(0,P.jsx)(eR,{webMobileHomeFeedTakoverExperience:x})]})]}),y&&(0,P.jsx)(D.Z,{children:(0,P.jsx)(s.xu,{"data-test-id":"unlink-expired-token",children:(0,P.jsx)(eC,{onDismiss:()=>{o("/",{replace:!0}),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),S&&(0,P.jsx)(D.Z,{children:(0,P.jsx)(eZ,{isPartner:h,onDismiss:()=>{o("/",{replace:!0}),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:i})}),j&&(0,P.jsx)(c.Z,{name:"YearInPreviewConfirmPublishModal",children:(0,P.jsx)(eD,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker(),v===ee.e&&r&&(0,P.jsx)(u.a3,{eligibleIds:[508418],experience:r,children:()=>b?(0,P.jsx)(ef,{}):(0,P.jsx)(ey,{hasTabBoards:(w?.length??0)>0})})]})})})}}let eK=[];function e$(){(0,n.useEffect)(()=>{(0,r.Z)("HomePage","/app/www/pages/duplo/HomePage.tsx")},[]);let e=(0,S.Z)(),t=(0,o.I0)(),i=(0,L.Z)(),{showToast:s}=(0,$.dI)(),l=(0,a.s0)(),d=(0,a.TH)(),{checkExperiment:c}=(0,O.Z)(),{shouldRefreshHomefeed:p,clearRefreshFlag:h}=(0,ep._T)(),{experience:f}=(0,u.Ow)(40001),{experience:m}=(0,u.Ow)(1000115),{experience:g}=(0,u.Ow)(1000411),x=(0,o.v9)(({feeds:e})=>e.homefeed),_=(0,o.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),w=(0,o.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:b,isLimitedLogin:v}=i,y=i.isAuth?i.id:void 0,j=i.isAuth?i.username:void 0,I=!!i.isAuth&&i.isPartner,k=(0,Y.HG)(),T=Array.isArray(x)?x:[],Z=!k&&T[0]&&"story"===T[0].type?T[0]:null,F=(0,o.v9)(({stories:e})=>Z?e[Z.id]:null),C=F&&F.story_type&&F.story_type.startsWith("boards_more_ideas_feed_upsell")?F:null,E=T.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{data:A}=(0,B.Z)(b&&c("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:i.id,field_set_key:"core_actions_header"}}:null),M=(0,Y.ml)();(0,N.Z)(d,s,e);let H={checkExperiment:c,currentUserId:y,currentUsername:j,dispatchViewedSharedPins:e=>t({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),everythingFeedExperience:f,navigate:l,i18n:e,isAuthenticated:b,isEligibleForCoreActionsHeader:A?.is_eligible_for_core_actions_header,isLimitedLogin:v,isMobile:M,isPartner:I,location:d,moreIdeasStory:C,newUserWelcomeStoryExperience:g,selectedTabBoardId:_,selectedTabIndex:w,showToast:s,tabBoards:E??eK,webMobileHomeFeedTakoverExperience:m,shouldRefreshHomefeed:p,clearRefreshFlag:h};return(0,P.jsx)(eU,{...H})}},751534:function(e,t,i){i.d(t,{EP:()=>l,HH:()=>s,WV:()=>o,om:()=>a,xJ:()=>n});var r=i(647908);let n="homefeed",o="feed_home",a="UserHomefeedResource",s={field_set_key:"mobile_grid_item",prepend:!1},l=(0,r.Z)(s)},454908:function(e,t,i){i.d(t,{r:()=>r});let r=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},199024:function(e,t,i){i.d(t,{ZN:()=>a,fv:()=>s,hr:()=>o,lD:()=>l});var r=i(27399);function n(e,t){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),a=(e,t,i)=>async r=>{r(o(e,!0));try{await n(e,i).callCreate(),t({event_type:601,object_id_str:e})}catch(t){r(o(e,!1))}},s=(e,t,i)=>async r=>{r(o(e,!1));try{await n(e,i).callDelete(),t({event_type:602,object_id_str:e})}catch(t){r(o(e,!0))}},l=(e,t="")=>i=>r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let r=e[t];i(o(t,r))})})},680717:function(e,t,i){i.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>l});var r=i(27399),n=i(47755),o=i(826681);function a(e,t,i,n){return r.Z.create("UserFollowResource",{user_id:e,invite_code:n||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:i})}function s(e,t=null,i,r){return n=>{a(e,t,i,r).callCreate().catch(()=>n((0,o.P_)(e,!1))),n((0,o.P_)(e,!0))}}function l(e,t=null,i,r){return async n=>{n((0,o.P_)(e,!0)),await a(e,t,i,r).callCreate().catch(t=>{throw n((0,o.P_)(e,!1)),t})}}function d(e,t=null,i){return r=>{a(e,t,i).callDelete().catch(()=>r((0,o.P_)(e,!0))),r((0,o.P_)(e,!1))}}function c(e,t=null,i){return async r=>{r((0,o.P_)(e,!1)),await a(e,t,i).callDelete().catch(t=>{throw r((0,o.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,n.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},826681:function(e,t,i){i.d(t,{Ge:()=>d,JS:()=>o,P_:()=>a,Q_:()=>p,b8:()=>h,cg:()=>s,h2:()=>c,h6:()=>u});var r=i(47755),n=i(748025);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let a=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:i,blockContext:n,logContextEvent:o})=>async a=>{a(l(e,!0));let s=await (0,r.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:t,block_source:i,block_context:n}}).catch(()=>a(l(e,!1)));return o({event_type:54,object_id_str:e}),s},c=(e,t)=>async i=>{i(l(e,!1));let n=await (0,r.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>i(l(e,!0)));return t({event_type:55,object_id_str:e}),n};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>(0,r.Z)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:t}}),h=(e,t,i)=>(o,a)=>{(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{i({event_type:48,object_id_str:a().session.userId}),e(),(0,n.Z)()},t)}},836643:function(e,t,i){i.d(t,{Z:()=>n});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},n=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:i,featuredBoardStoryId:r,feed:n,feedStoryId:o,footerStoryId:a},s,l)=>{let d="story"===s.type&&t[s.id]?.story_type,c="board_ideas_feed"===d,u="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[s.id];p=!!e.custom_properties?.is_full_width}return{feed:n.concat(u||c||p?[]:[s]),featuredBoardStoryId:"featured_boards"===d?s.id:r,feedStoryId:c?s.id:o,footerStoryId:u?s.id:a,boardShopModuleId:p?s.id:e,boardShopModuleIndex:p?l:i}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},297621:function(e,t,i){i.d(t,{Z:()=>n});var r=i(581722);function n({children:e,storyId:t}){let i=(0,r.v9)(({stories:e})=>e[t]);return i&&e(i)}},734802:function(e,t,i){i.d(t,{Z:()=>P});var r,n,o=i(686659),a=i(667294),s=i(581722),l=i(167912),d=i(399353),c=i(104999),u=i(774838),p=i(338065),h=i(199024),f=i(24246),m=i(720459),g=i(775907),x=i(785893);let _=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:r,isSelected:n,locale:o,nameTextSize:a,renderAsPill:s,showFollowerCount:l,topicName:c,followerCount:u,image:p})=>{let h=(0,f.Z)(),_=(0,m.Z)(),w=(0,x.jsx)(d.JO,{accessibilityLabel:h.bt("Selecionados", "Selected", " - ", undefined, true),color:"light",icon:r?"check":"circle-check",size:r?12:24});return s?(0,x.jsx)(g.Z,{color:e||"#767676",image:p,isSelected:n??!1,title:c}):(0,x.jsxs)(d.xu,{"aria-selected":n,position:"relative",children:[(0,x.jsx)(d.zd,{rounding:r||i?4:2,children:(0,x.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,x.jsx)(d.xu,{bottom:!0,left:!0,padding:r&&n?1:0,position:"absolute",right:!0,rounding:r&&n?400:0,top:!0,children:p.url&&(0,x.jsx)(d.Ee,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,x.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&n?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?400:void 0,top:!0}),r&&n&&(0,x.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})]})}),i?(0,x.jsx)(d.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,x.jsx)(d.xv,{align:"center",color:"light",size:a,weight:"bold",children:c})}):(0,x.jsxs)(d.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,x.jsx)(d.xv,{color:"light",size:a,weight:"bold",children:c}),l&&u>=0&&(0,x.jsx)(d.xu,{paddingY:1,children:(0,x.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,x.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:_(o,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),h.bt("seguidores", "followers", " - ", undefined, true)]})})]}),n&&(0,x.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,x.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:200,width:24,children:w}):w})]})},w=(void 0!==r||(r=i(654471)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),b=({topicRef:e,...t})=>{(0,a.useEffect)(()=>{(0,o.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=(0,l.useFragment)(w,e),r=i.images?{url:i.images.url??"",width:i.images.width??0,height:i.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,x.jsx)(_,{backgroundColor:i.background_color??"",followerCount:i.follower_count??0,image:r,topicName:i.name??"",...t})},v=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...r})=>{(0,a.useEffect)(()=>{(0,o.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let n=i||e||t,s=n?.images?.["236x"]||n?.images?.["400x"]||n?.images?.["474x"]||n?.images?.orig||{height:1,url:"",width:1},l=n&&"follower_count"in n&&void 0!==n.follower_count?n.follower_count:-1;return(0,x.jsx)(_,{backgroundColor:n?.background_color||"",followerCount:l,image:s,topicName:n?.name||"",...r})},y=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:r=!1,markForRefresh:n,nameTextSize:o="lg",onTouch:a,padding:l=2,renderAsPill:f,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:_=!1,topic:w,viewParameter:y,viewType:S})=>{let j=(0,s.I0)(),I=(0,c.Z)(),{locale:P}=(0,u.B)(),k=(0,x.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==w.type?(0,x.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,locale:P,nameTextSize:o,renderAsPill:f,showFollowerCount:g,topic:w.topic,topicBlob:w.topicBlob,topicInfoForContextualExp:w.topicInfoForContextualExp}):(0,x.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,locale:P,nameTextSize:o,renderAsPill:f,showFollowerCount:g,topicRef:w.topicRef}),!!w&&m&&(0,x.jsx)(d.xu,{paddingY:2,children:(0,x.jsx)(p.Z,{followEventType:601,id:w.id,inline:t,invertColors:t,isFollowed:w.is_followed,onFollow:e=>{j((0,h.ZN)(e,I)),n&&n()},onUnfollow:e=>{j((0,h.fv)(e,I)),n&&n()},pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:y||void 0,viewType:S||void 0})})]}),T="/";return w&&(T=`/topics/${w.id}`),_&&w.slug?(0,x.jsx)(d.Tg,{href:T,onTap:({event:e})=>{a?.(e)},rounding:2,tapStyle:"compress",children:(0,x.jsx)(d.xu,{padding:l,children:k})}):k},S=(void 0!==n||(n=i(176923)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==n.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),j=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:r,isSelected:n=!1,markForRefresh:o,nameTextSize:a="lg",onTouch:s,padding:d=2,renderAsPill:c,showFollowButton:u=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:f,viewType:m})=>{let g=(0,l.useFragment)(S,e);return(0,x.jsx)(y,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:r,isSelected:n,markForRefresh:o,nameTextSize:a,onTouch:s,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topic:{id:g.entityId??"",type:"graphql",is_followed:g.is_followed??!1,topicRef:g},viewParameter:f,viewType:m})},I=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:r,decreaseNamePadding:n=!1,isHomefeedTuner:o,isLego:a,isSelected:l=!1,markForRefresh:d,nameTextSize:c="lg",onTouch:u,padding:p=2,renderAsPill:h,showFollowButton:f=!1,showFollowerCount:m=!1,shouldClickthrough:g=!1,viewParameter:_,viewType:w})=>{let b=(0,s.v9)(({topics:t})=>t[e]),v=t??b;return(0,x.jsx)(y,{decreaseNamePadding:n,isHomefeedTuner:o,isLego:a,isSelected:l,markForRefresh:d,nameTextSize:c,onTouch:u,padding:p,renderAsPill:h,shouldClickthrough:g,showFollowButton:f,showFollowerCount:m,topic:{id:e,is_followed:!!v?.is_followed,topic:v,topicBlob:i,topicInfoForContextualExp:r,type:"resource"},viewParameter:_,viewType:w})},P=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:r=!1,markForRefresh:n,nameTextSize:s="lg",onTouch:l,padding:d=2,renderAsPill:c,showFollowButton:u=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:f,viewType:m,...g})=>((0,a.useEffect)(()=>{(0,o.Z)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),g.topicRef?(0,x.jsx)(j,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,markForRefresh:n,nameTextSize:s,onTouch:l,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topicRef:g.topicRef,viewParameter:f,viewType:m}):(0,x.jsx)(I,{decreaseNamePadding:e,id:g.id,isHomefeedTuner:t,isLego:i,isSelected:r,markForRefresh:n,nameTextSize:s,onTouch:l,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topic:g.topic,topicBlob:g.topicBlob,topicInfoForContextualExp:g.topicInfoForContextualExp,viewParameter:f,viewType:m}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98266.pt_BR-aa4dfaa8dedaaaaa.mjs.map